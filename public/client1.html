<!DOCTYPE HTML>
<html>
<head>
    <style>
        p.hidden{
            display: none;
        }
        p.visible{
            display: block;
        }
		h2.hidden{
            display: none;
        }
        h2.visible{
            display: block;
        }
	</style>
	<script src="js/phaser.js"></script>
	<!--<script src="test.js"></script>-->
	<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>-->
	<script src="http://cdn.socket.io/socket.io-1.4.0.js"></script>
	<script>
		var socket = io.connect('http://localhost:3000/')
		var SessionCode;

		function JoinSession()
		{
			document.getElementById("Screen1").className = "hidden"
			document.getElementById("JoinServer").className = "hidden"
			var Name = document.getElementById("name").value;
			var Code = document.getElementById("code").value;
			var Data = {
				dataName: Name,
				dataCode: Code
			};
			socket.emit('join session', Data);
		}
		
		socket.on('user recieve code', function(data){
			SessionCode = data.Code;
		});
		
		socket.on("displayName", function(data) {
			if(SessionCode == data.Code)
			{
				document.getElementById("display").innerHTML = data.List;
			}
		});
		
		socket.on("Bad Code", function(data){
			alert("Code is invalid")
		});
//-------------------------------------------------------------------------------------		
//-------------------------------------------------------------------------------------			
		var turn = 0;
		var playerCount = count; //sets from server
		var playersAttack = new Array();
		var playersHealth = new Array(); //array of current health values
		var playersHeal = new Array(); //array of current health added when healing
		var playersDefend = new Array(); //array of current percentage of damage blocked when defending
		var defend = false; //determines if next turn will be defended	
		
		function playerAttack(player, unit) //Player attacks enemy unit
		{	
			hostUnitsHealth[unit] -= playersAttack[player];
		}

		function healPlayer(healingPlayer, healedPlayer) //healingPlayer heals healedPlayer by healingPlayer's heal value
		{
			playersHealth[healedPlayer] += playersHeal[healingPlayer];
		}

		function playerDefend(player) //sets defend to true for 1 turn (MAKE SURE TO TURN defend OFF AFTER EACH TURN)
		{
			defend = true;
		}

		function upgradeAbility(player, ability) //Attack = 1, Heal = 2, Defend = 3
		{
			if(ability == 1) //Upgrading attack adds 5 attack
			{
				playersAttack[player] += 5
			}
			else if(ability == 2) //Upgrading heal increases heals by 5
			{
				playersHeal[player] +=5;
			}
			else if(ability == 3)//Upgrading defend adds 5% defend
			{ 
				if(playersDefend[player] < .75)
				{
					playersDefend[player] += .05
				}
				else playersDefend[player] = .75
			}
		}
		
	</script>
</head>
<body>
<h2 id="JoinServer" class="visible">JOIN SERVER</h2>
<form>
<p id="Screen1" class="visible">
  Name:<br>
  <input type="text" id="name"><br>
  Session Code:<br>
  <input type="text" id="code">
  <input type="button" value="Submit" onClick="JoinSession()">
  </p>
</form>

<!-- This is battle form -->
<form>
<p id="Screen2" class="hidden">
<input type="button" value="Attack" onClick="">
<input type="button" value="Defend" onClick="">
<input type="button" value="upgrade" onClick="">
</p>
</form>
<p id="display"></p> 
</body>
 <!--<button id="button1" onclick="changebutton1()">Click me to attack</button> </form>-->
</html>


