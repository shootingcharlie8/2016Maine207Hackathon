<!DOCTYPE HTML>
<html>
<head>
<script>
function gameSetup(count)
{
	var turn = 0;
	var playerCount = count; //sets from server
	var playersAttack = new Array();
	var playersHealth = new Array(); //array of current health values
	var playersHeal = new Array(); //array of current health added when healing
	var playersDefend = new Array(); //array of current percentage of damage blocked when defending
	var defend = false; //determines if next turn will be defended
	
	var hostGold = 10;
	var hostUnitTiers = new Array[1];
	var hostUnitsHealth = new Array[10];
	
	for (int i = 1; i <= playerCount; i++)
	{
		playersHealth.push(100);
		playersHeal.push(10);
		playersDefend.push(.5);
		hostUnitsHealth.push(0);
		
	}
}	

//PLAYER FUNCTIONS

function playerAttack(player, unit) //Player attacks enemy unit
{
	hostUnitsHealth[unit] -= playersAttack[player];
}

function healPlayer(healingPlayer, healedPlayer) //healingPlayer heals healedPlayer by healingPlayer's heal value
{
	playersHealth[healedPlayer] += playersHeal[healingPlayer];
	
}

function playerDefend(player) //sets defend to true for 1 turn (MAKE SURE TO TURN defend OFF AFTER EACH TURN)
{
	defend = true;
}



function upgradeAbility(player, ability) //Attack = 1, Heal = 2, Defend = 3
{
	if(ability == 1) //Upgrading attack adds 5 attack
	{
		playersAttack[player] += 5
	}
	else if(ability == 2) //Upgrading heal increases heals by 5
	{
		playersHeal[player] +=5;
	}
	else if(ability == 3) //Upgrading defend adds 5% defend
		if(playersDefend[player] < .75)
		{
			playersDefend[player] += .05
		}
		else playersDefend[player] = .75
}

//HOST FUNCTIONS

function unitAttack(unit, player) //unit = unit making attack, player = player being attacked
{
	if (defend == true;)
		if (hostUnitTiers[unit] == 1) //Tier 1 does 10 damage
			{
				playersHealth[player] -= 10 * playersDefend[player-1];
			}
		else if (hostUnitTiers[unit] == 2) //Tier 2 does 30 damage
			{
				playersHealth[player] -= 30 * playersDefend[player-1];
			}
		else if (hostUnitTiers[unit] == 3) //Tier 3 does 50 damage
			{
				playersHealth[player] -= 50 * playersDefend[player-1];
			}
		else playersHealth[player] = playersHealth[player-1];
	if(defend == false)
		if (hostUnitTiers[unit] == 1) //Tier 1 does 10 damage
			{
				playersHealth[player] -= 10;
			}
		else if (hostUnitTiers[unit] == 2) //Tier 2 does 30 damage
			{
				playersHealth[player] -= 30;
			}
		else if (hostUnitTiers[unit] == 3) //Tier 3 does 50 damage
			{
				playersHealth[player] -= 50;
			}
	
}

function addUnit(tier)
{
	for(int i = 0; i < playerCount; i++)
		(if hostUnitsHealth[i] == 0)
		{
			hostUnitTiers[i] = tier;
			if (tier == 1)
				hostUnitsHealth[i] = 50;
			if (tier == 2)
				hostUnitsHealth[i] = 100;
			if (tier == 3)
				hostUnitsHealth[i] = 250;
		}
		
}


</script>
</head>
</html>
